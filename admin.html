<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
  body {
    background:#121212;
    color:white;
    font-family:Arial,sans-serif;
    text-align:center;
  }
  h2 { margin:20px; }
  table {
    margin:20px auto;
    border-collapse:collapse;
    width:90%;
  }
  th, td {
    border:1px solid #555;
    padding:8px;
  }
  th { background:#333; }
  input {
    width:100%;
    background:#1e1e1e;
    color:white;
    border:none;
    padding:4px;
  }
  button {
    margin:10px;
    padding:10px 16px;
    background:#6A5ACD;
    color:white;
    border:none;
    border-radius:5px;
    cursor:pointer;
  }
</style>
</head>
<body>
  <h2>‚öô –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
  <p>–°–æ–∑–¥–∞–≤–∞–π –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –∞–∫–∫–∞—É–Ω—Ç—ã</p>

  <table id="usersTable">
    <thead>
      <tr>
        <th>login</th>
        <th>password</th>
        <th>username</th>
        <th>sub</th>
        <th>mem</th>
        <th>ident</th>
        <th>can_download</th>
        <th>file_url</th>
        <th>–£–¥–∞–ª–∏—Ç—å</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button onclick="addUser()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
  <button onclick="saveUsers()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å (LocalStorage)</button>
  <a href="index.html"><button>‚¨Ö –í—ã–π—Ç–∏</button></a>

<script>
// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–∑ LocalStorage –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö)
let users = JSON.parse(localStorage.getItem("users")) || [
  {
    login:"admin",
    password:"1234",
    username:"Administrator",
    mem:"16384Mb",
    ident:"1",
    can_download:true
  },
  {
    login:"user",
    password:"pass",
    username:"NewUser",
    mem:"4096Mb",
    ident:"2",
    can_download:false
  }
];

function renderUsers(){
  let tbody = document.querySelector("#usersTable tbody");
  tbody.innerHTML = "";
  users.forEach((u,i)=>{
    let tr=document.createElement("tr");
    Object.keys(u).forEach(k=>{
      let td=document.createElement("td");
      let inp=document.createElement("input");
      inp.value = u[k] ?? "";
      inp.dataset.index=i;
      inp.dataset.key=k;
      inp.oninput = (e)=>users[i][k] = e.target.value;
      td.appendChild(inp);
      tr.appendChild(td);
    });
    // –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
    let tdDel = document.createElement("td");
    let btn = document.createElement("button");
    btn.textContent="‚ùå";
    btn.onclick=()=>{ users.splice(i,1); renderUsers(); };
    tdDel.appendChild(btn);
    tr.appendChild(tdDel);

    tbody.appendChild(tr);
  });
}

function addUser(){
  let newId = users.length+1;
  users.push({
    login:"newuser"+newId,
    password:"1234",
    username:"User"+newId,
    mem:"1024Mb",
    ident:String(newId),
    can_download:false
  });
  renderUsers();
}

function saveUsers(){
  localStorage.setItem("users", JSON.stringify(users));
  alert("‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (LocalStorage)");
}

renderUsers();
</script>
</body>
</html>
